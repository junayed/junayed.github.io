<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <!-- Enhanced SEO Meta Tags -->
    <meta name="description" content="Dr. Md Junayed Hasan - Advanced Agentic AI Predictive Maintenance Dashboard with Multi-Agent Intelligence for Industrial IoT Monitoring. Experience cutting-edge autonomous AI coordination and real-time analytics.">
    <meta name="keywords" content="Agentic AI, Multi-Agent Systems, Predictive Maintenance, Industrial AI, Power Plant Monitoring, IoT Dashboard, Real-time Analytics, Autonomous AI, AI Coordination, Machine Learning, LSTM, Random Forest, SVM, ARIMA, Transformer Models">
    <meta name="author" content="Dr. Md Junayed Hasan">
    <meta name="robots" content="index, follow, max-image-preview:large">

    <!-- Open Graph Meta Tags for Social Media -->
    <meta property="og:title" content="Agentic AI Predictive Maintenance Dashboard | Dr. Md Junayed Hasan">
    <meta property="og:description" content="Advanced Multi-Agent AI Dashboard with Autonomous Intelligence | Experience cutting-edge agentic AI coordination and predictive maintenance technology.">
    <meta property="og:image" content="https://junayed.github.io/images/agentic-dashboard-preview.jpg">
    <meta property="og:image:alt" content="Agentic AI Predictive Maintenance Dashboard by Dr. Md Junayed Hasan">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://junayed.github.io/agentic-dashboard.html">
    <meta property="og:site_name" content="Dr. Md Junayed Hasan - AI Strategy Expert">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Agentic AI Predictive Maintenance Dashboard | Dr. Md Junayed Hasan">
    <meta name="twitter:description" content="Advanced Multi-Agent AI Dashboard with Autonomous Intelligence and Real-time Coordination">
    <meta name="twitter:image" content="https://junayed.github.io/images/agentic-dashboard-preview.jpg">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agentic AI Predictive Maintenance Dashboard | Dr. Md Junayed Hasan</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,700;1,700&family=Poppins:wght@600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

    <!-- Enhanced Schema.org Dashboard Structured Data -->
    <script type="application/ld+json">
    {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Agentic AI Predictive Maintenance Dashboard",
    "description": "Advanced Multi-Agent AI Dashboard with Autonomous Intelligence for Industrial IoT Monitoring",
    "url": "https://junayed.github.io/agentic-dashboard.html",
    "applicationCategory": "IndustrialApplication",
    "operatingSystem": "Web Browser",
    "author": {
        "@type": "Person",
        "name": "Dr. Md Junayed Hasan",
        "jobTitle": "AI Strategy Expert",
        "url": "https://junayed.github.io/"
    },
    "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
    },
    "featureList": [
        "Multi-Agent AI Coordination",
        "Autonomous Intelligence",
        "Real-time Sensor Monitoring",
        "AI Agent Communication",
        "Predictive Analytics",
        "Emergency Response Protocols",
        "Multi-Model Comparison",
        "AI Chatbot Assistant"
    ]
    }
    </script>
    <link rel="icon" type="image/png" href="logos/wicon.jpg">

    <style>
        /* Mobile-first CSS improvements */
        
        /* Make the central agent hub more mobile-friendly */
        .agents-circle {
            width: 200px !important;
            height: 200px !important;
            margin: 1rem auto !important;
        }
        
        .central-brain {
            width: 50px !important;
            height: 50px !important;
            font-size: 1.5rem !important;
        }
        
        .agent {
            width: 40px !important;
            height: 40px !important;
            font-size: 1rem !important;
        }
        
        /* Better mobile positioning for agents */
        .agent-monitor {
            top: 10px !important;
        }
        
        .agent-predict {
            right: 10px !important;
        }
        
        .agent-optimize {
            bottom: 10px !important;
        }
        
        .agent-alert {
            left: 10px !important;
        }
        
        .agent-learn {
            top: 40px !important;
            right: 40px !important;
        }
        
        .agent-coordinate {
            bottom: 40px !important;
            left: 40px !important;
        }

        /* Mobile-specific layout adjustments */
        @media (max-width: 1024px) {
            .agentic-dashboard-grid {
                grid-template-columns: 1fr !important;
                gap: 1.5rem !important;
            }
            
            .compact-sensors-panel {
                order: 1;
            }
            
            .agentic-hub {
                order: 2;
                padding: 1.5rem !important;
            }
            
            .chatbot-panel {
                order: 3;
                height: 400px !important;
            }
            
            .agents-circle {
                width: 250px !important;
                height: 250px !important;
            }
        }

        @media (max-width: 768px) {
            .dashboard-hero__title {
                font-size: 1.8rem !important;
            }
            
            .dashboard-hero__subtitle {
                font-size: 1rem !important;
            }
            
            .control-panel__content {
                flex-direction: column !important;
                gap: 1rem !important;
            }
            
            .control-group {
                width: 100% !important;
                max-width: none !important;
            }
            
            .agents-circle {
                width: 180px !important;
                height: 180px !important;
            }
            
            .central-brain {
                width: 40px !important;
                height: 40px !important;
                font-size: 1.2rem !important;
            }
            
            .agent {
                width: 32px !important;
                height: 32px !important;
                font-size: 0.9rem !important;
            }
            
            .chatbot-panel {
                height: 350px !important;
                padding: 1rem !important;
            }
            
            .chat-messages {
                height: 200px !important;
                font-size: 0.85rem !important;
            }
            
            .agentic-hub {
                padding: 1rem !important;
            }
            
            .hub-title {
                font-size: 1.2rem !important;
            }
            
            .agent-activity {
                max-height: 80px !important;
                font-size: 0.8rem !important;
            }
        }

        @media (max-width: 480px) {
            .agents-circle {
                width: 140px !important;
                height: 140px !important;
            }
            
            .central-brain {
                width: 30px !important;
                height: 30px !important;
                font-size: 1rem !important;
            }
            
            .agent {
                width: 25px !important;
                height: 25px !important;
                font-size: 0.8rem !important;
            }
            
            .agent-learn {
                top: 25px !important;
                right: 25px !important;
            }
            
            .agent-coordinate {
                bottom: 25px !important;
                left: 25px !important;
            }
            
            .chatbot-panel {
                height: 300px !important;
            }
            
            .chat-messages {
                height: 150px !important;
            }
            
            .compact-sensor-card {
                padding: 0.75rem !important;
            }
            
            .compact-sensor-info {
                grid-template-columns: 1fr !important;
                gap: 0.5rem !important;
            }
        }

        /* Agent status indicators - make them clearer */
        .agent-status-active {
            color: #4CAF50 !important;
            font-weight: bold !important;
        }
        
        .agent-status-emergency {
            color: #f44336 !important;
            font-weight: bold !important;
            animation: blink 1s infinite !important;
        }

        /* Better compact sensor layout */
        .compact-sensors-panel {
            display: grid !important;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)) !important;
            gap: 1rem !important;
        }

        @media (max-width: 768px) {
            .compact-sensors-panel {
                grid-template-columns: 1fr !important;
            }
        }

        /* Clean footer styles */
        .footer__bottom p:not(:first-child) {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header__content">
                <div class="header__logo">
                    <span class="logo-text">Dr. Junayed</span>
                </div>
                
                <nav class="nav" id="nav">
                    <ul class="nav__list">
                        <li><a href="index.html#about" class="nav__link">About</a></li>
                        <li><a href="index.html#services" class="nav__link">Services</a></li>
                        <li><a href="index.html#impact-studies" class="nav__link">Success Stories</a></li>
                        <li><a href="index.html#results" class="nav__link">Achievements</a></li>
                        <li><a href="index.html#expertise" class="nav__link">Collaborators</a></li>
                        <li><a href="index.html#contact" class="nav__link">Contact</a></li>
                    </ul>
                </nav>

                <div class="header__actions">
                    <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
                        <span class="theme-toggle__icon"></span>
                    </button>
                    <a href="https://calendly.com/junhasan/30min" target="_blank" class="btn btn--primary btn--sm">Free Consultation</a>
                    <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle mobile menu">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <nav class="mobile-menu" id="mobileMenu">
        <button class="mobile-menu-close" aria-label="Close mobile menu">&times;</button>
        <a href="index.html#about" class="nav__link">About</a>
        <a href="index.html#services" class="nav__link">Services</a>
        <a href="index.html#impact-studies" class="nav__link">Success Stories</a>
        <a href="index.html#results" class="nav__link">Achievements</a>
        <a href="index.html#contact" class="nav__link">Contact</a>
    </nav>

    <!-- Dashboard Hero -->
    <section class="case-study-hero" style="background-image: url('images/hero-backgrounds/acbm.jpg');">
        <div class="container">
            <div class="dashboard-hero__content">
                <h1 class="dashboard-hero__title">ü§ñ Agentic AI Predictive Maintenance Hub</h1>
                <p class="dashboard-hero__subtitle">Multi-Agent Intelligence System with Autonomous Coordination & Real-time Decision Making</p>
            </div>
        </div>
    </section>

    <!-- System Description -->
    <section class="system-description">
        <div class="container">
            <div class="description-content">
                <h2 class="description-title">üß† Next-Generation Agentic AI Ecosystem</h2>
                <div class="description-grid">
                    <div class="description-card">
                        <h3 class="description-card__title">ü§ñ What is Agentic AI?</h3>
                        <p class="description-card__text">Autonomous AI agents that work together like a team of specialists. Each agent has its own role - monitoring, predicting, optimizing - and they communicate with each other to make smart decisions without human intervention.</p>
                    </div>
                    <div class="description-card">
                        <h3 class="description-card__title">üéØ Multi-Agent Coordination</h3>
                        <p class="description-card__text">6 specialized AI agents collaborate in real-time: Monitor Agent watches sensors, Predict Agent forecasts failures, Optimize Agent improves performance, Alert Agent manages emergencies, Learn Agent updates knowledge, and Coordinate Agent orchestrates everything.</p>
                    </div>
                    <div class="description-card">
                        <h3 class="description-card__title">üí° Autonomous Intelligence</h3>
                        <p class="description-card__text">Unlike traditional systems, these agents make independent decisions, learn from experience, and adapt their behavior. They can handle complex scenarios without waiting for human commands, providing 24/7 intelligent monitoring.</p>
                    </div>
                    <div class="description-card">
                        <h3 class="description-card__title">üöÄ Revolutionary Impact</h3>
                        <p class="description-card__text">Reduces downtime by 80%, prevents 99.95% of critical failures, and operates with superhuman speed and accuracy. This represents the future of industrial AI - truly autonomous, intelligent, and collaborative systems.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Control Panel -->
    <section class="control-panel">
        <div class="container">
            <div class="control-panel__content">
                <div class="control-group">
                    <label for="timeRange">Time Range:</label>
                    <select id="timeRange">
                        <option value="1h">Last 1 Hour</option>
                        <option value="6h">Last 6 Hours</option>
                        <option value="24h">Last 24 Hours</option>
                        <option value="7d">Last 7 Days</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label>Agents Status:</label>
                    <span id="agentStatus" class="agent-status-active">6 Active</span>
                </div>
                
                <div class="control-group">
                    <button onclick="refreshAgenticData()">üîÑ Refresh All Agents</button>
                </div>
                
                <div class="control-group">
                    <button class="emergency-button" onclick="triggerAgenticEmergency()">üö® Emergency Protocol</button>
                </div>
                
                <div class="control-group">
                    <label>Last Update:</label>
                    <div class="refresh-info">
                        <span id="lastUpdate" class="refresh-time">Never</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Agentic Dashboard -->
    <section class="dashboard-main">
        <div class="container">
            <div class="agentic-dashboard-grid">
                <!-- Left Panel: Compact Sensors -->
                <div class="compact-sensors-panel" id="compactSensorsPanel">
                    <!-- Compact sensor cards will be generated here -->
                </div>
                
                <!-- Center Panel: Agentic AI Hub -->
                <div class="agentic-hub">
                    <h2 class="hub-title">üß† Multi-Agent Intelligence Center</h2>
                    
                    <div class="agents-circle">
                        <div class="central-brain" title="Central AI Coordinator" onclick="showCentralBrainInfo()">üß†</div>
                        
                        <div class="agent agent-monitor" title="Monitoring Agent - Watches all sensors 24/7" onclick="showAgentInfo('monitor')">üëÅÔ∏è</div>
                        <div class="agent agent-predict" title="Prediction Agent - Forecasts future problems" onclick="showAgentInfo('predict')">üîÆ</div>
                        <div class="agent agent-optimize" title="Optimization Agent - Makes everything work better" onclick="showAgentInfo('optimize')">‚ö°</div>
                        <div class="agent agent-alert" title="Alert Agent - Handles emergency situations" onclick="showAgentInfo('alert')">üö®</div>
                        <div class="agent agent-learn" title="Learning Agent - Gets smarter over time" onclick="showAgentInfo('learn')">üìö</div>
                        <div class="agent agent-coordinate" title="Coordination Agent - Organizes all other agents" onclick="showAgentInfo('coordinate')">üéØ</div>
                    </div>
                    
                    <div class="agent-activity">
                        <div id="agentActivityLog">
                            <!-- Agent activities will be logged here -->
                        </div>
                    </div>
                </div>
                
                <!-- Right Panel: AI Chatbot -->
                <div class="chatbot-panel">
                    <div class="chatbot-header">
                        <h3 class="chatbot-title">ü§ñ AI Assistant</h3>
                        <div class="chatbot-status">
                            <div class="status-dot"></div>
                            <span>Online & Learning</span>
                        </div>
                    </div>
                    
                    <div class="chat-messages" id="chatMessages">
                        <!-- Chat messages will appear here -->
                    </div>
                    
                    <div class="chat-input-area">
                        <input type="text" class="chat-input" id="chatInput" placeholder="Ask about agent status, predictions, or system performance..." onkeypress="handleChatInput(event)">
                        <button class="send-button" onclick="sendChatMessage()">üì§</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Enhanced Analytics -->
    <section class="case-study-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">üìä Agent Performance Analytics</h2>
                <p class="section-subtitle">Real-time insights from autonomous AI coordination</p>
            </div>
            <div class="metrics-showcase">
                <div class="metrics-grid" id="agenticAnalytics">
                    <!-- Analytics cards will be generated here -->
                </div>
            </div>
        </div>
    </section>

    <!-- Footer (cleaned up) -->
    <footer class="footer">
        <div class="container">
            <div class="footer__content">
                <div class="footer__info">
                    <div class="footer__logo">Dr. Md Junayed Hasan</div>
                    <p class="footer__tagline">AI Strategy Expert | Educator | Pioneer</p>
                </div>
                
                <div class="footer__links">
                    <a href="https://www.linkedin.com/in/mdjunayedhasan/" target="_blank" class="footer__link">LinkedIn</a>
                    <a href="https://scholar.google.com/citations?user=6dp1PZAAAAAJ&hl=en" target="_blank" class="footer__link">Google Scholar</a>
                    <a href="https://medium.com/@junhasan" target="_blank" class="footer__link">Blog</a>
                    <a href="https://github.com/junhasan" target="_blank" class="footer__link">GitHub</a>
                    <a href="mailto:junhasan@gmail.com" class="footer__link">Contact</a>
                </div>
            </div>
            
            <div class="footer__bottom">
                <p>&copy; 2025 Dr. Md Junayed Hasan. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Include the main app.js and add agentic functionality -->
    <script src="app.js"></script>
    <script>
        // ü§ñ Step-by-Step Agentic AI System (Think of it like a smart team of robots!)
        // Each "step" below is like teaching a different robot how to do its job
        
        // Step 1: Meet our AI robot team! (Like introducing characters in a story)
        const agenticAgents = {
            monitor: {
                name: 'üëÅÔ∏è Monitoring Agent',
                role: 'Watches all sensors 24/7',
                status: 'active',
                lastAction: 'Scanning all sensors for problems',
                expertise: 'Real-time data watching',
                tasks: ['Data collection', 'Problem detection', 'Signal processing']
            },
            predict: {
                name: 'üîÆ Prediction Agent', 
                role: 'Predicts future problems',
                status: 'active',
                lastAction: 'Forecasting turbine maintenance window',
                expertise: 'Future forecasting',
                tasks: ['ML predictions', 'Trend analysis', 'Risk assessment']
            },
            optimize: {
                name: '‚ö° Optimization Agent',
                role: 'Makes everything work better',
                status: 'active', 
                lastAction: 'Optimizing pump efficiency',
                expertise: 'Performance improvement',
                tasks: ['Parameter tuning', 'Efficiency optimization', 'Resource allocation']
            },
            alert: {
                name: 'üö® Alert Agent',
                role: 'Handles emergency situations',
                status: 'active',
                lastAction: 'Monitoring safety thresholds',
                expertise: 'Emergency response',
                tasks: ['Alert generation', 'Priority ranking', 'Emergency management']
            },
            learn: {
                name: 'üìö Learning Agent',
                role: 'Gets smarter over time',
                status: 'active',
                lastAction: 'Training models with new patterns',
                expertise: 'Continuous learning',
                tasks: ['Model training', 'Pattern recognition', 'Knowledge updates']
            },
            coordinate: {
                name: 'üéØ Coordination Agent',
                role: 'Organizes all other agents',
                status: 'active',
                lastAction: 'Synchronizing agent tasks',
                expertise: 'Multi-agent coordination',
                tasks: ['Task distribution', 'Agent communication', 'Workflow coordination']
            }
        };

        // Step 2: Simple sensor setup (Like setting up thermometers around the house)
        const agenticSensors = [
            { id: 'turbine1', name: 'üå™Ô∏è Turbine #1', unit: 'RPM', normalRange: [2900, 3100], criticalRange: [2700, 3300] },
            { id: 'generator1', name: '‚ö° Generator #1', unit: 'MW', normalRange: [450, 550], criticalRange: [350, 650] },
            { id: 'boiler1', name: 'üî• Boiler #1', unit: '¬∞C', normalRange: [540, 580], criticalRange: [500, 620] },
            { id: 'pump1', name: 'üíß Pump #1', unit: 'Bar', normalRange: [15, 25], criticalRange: [8, 35] },
            { id: 'compressor1', name: 'üåÄ Compressor', unit: 'PSI', normalRange: [120, 150], criticalRange: [80, 200] },
            { id: 'cooling1', name: '‚ùÑÔ∏è Cooling', unit: '¬∞C', normalRange: [35, 45], criticalRange: [25, 65] }
        ];

        // Step 3: Storage boxes for our data (Like containers to hold information)
        let agenticSensorData = {};
        let agentActivities = [];
        let chatMessages = [];
        let systemStats = {
            totalPredictions: 0,
            successfulOptimizations: 0,
            alertsGenerated: 0,
            agentCommunications: 0
        };

        // Step 4: Give each sensor a starting value (Like setting initial readings)
        function initializeAgenticSensorData() {
            console.log('ü§ñ Step 4: Setting up sensor starting values...');
            
            agenticSensors.forEach(sensor => {
                // Calculate a good middle value
                const baseValue = (sensor.normalRange[0] + sensor.normalRange[1]) / 2;
                // Add small random changes (like real sensors)
                const smallVariation = (Math.random() - 0.5) * 10;
                
                agenticSensorData[sensor.id] = {
                    value: Math.round((baseValue + smallVariation) * 100) / 100,
                    status: 'normal',
                    trend: Math.random() > 0.5 ? 'up' : 'down',
                    lastUpdate: new Date()
                };
            });
        }

        // Step 5: Create simple sensor display cards (Like making info cards)
        function createCompactSensorCard(sensor) {
            const data = agenticSensorData[sensor.id];
            const trendIcon = data.trend === 'up' ? 'üìà' : 'üìâ';
            const statusColor = data.status === 'normal' ? '#4CAF50' : 
                               data.status === 'warning' ? '#FF9800' : '#f44336';
            
            return `
                <div class="compact-sensor-card">
                    <div class="compact-sensor-header">
                        <div class="compact-sensor-name">${sensor.name}</div>
                        <div class="status-indicator" style="background: ${statusColor}"></div>
                    </div>
                    <div class="compact-sensor-info">
                        <div class="compact-value">
                            <strong>${data.value} ${sensor.unit}</strong>
                        </div>
                        <div class="compact-value">
                            ${trendIcon} ${data.status.toUpperCase()}
                        </div>
                    </div>
                </div>
            `;
        }

        // Step 6: Log what each agent is doing (Like writing in a diary)
        function addAgentActivity(agentId, action) {
            const agent = agenticAgents[agentId];
            const activity = {
                agent: agent.name,
                action: action,
                timestamp: new Date()
            };
            
            agentActivities.unshift(activity);
            
            // Keep only last 8 activities (so it doesn't get too long)
            if (agentActivities.length > 8) {
                agentActivities.pop();
            }
            
            updateAgentActivityDisplay();
            agent.lastAction = action;
        }

        // Step 7: Show agent activities on screen
        function updateAgentActivityDisplay() {
            const logContainer = document.getElementById('agentActivityLog');
            
            logContainer.innerHTML = agentActivities.map(activity => `
                <div class="activity-log">
                    <span class="activity-timestamp">[${activity.timestamp.toLocaleTimeString()}]</span>
                    ${activity.agent}: ${activity.action}
                </div>
            `).join('');
        }

        // Step 8: Show info when clicking on an agent (Like getting details about a character)
        function showAgentInfo(agentId) {
            const agent = agenticAgents[agentId];
            addAgentActivity(agentId, `Sharing my details with user`);
            
            const agentDetails = `ü§ñ ${agent.name} Status:
            
üìã My Job: ${agent.role}
üéØ Currently: ${agent.lastAction}
‚öôÔ∏è I'm Expert At: ${agent.expertise}
‚úÖ Status: ${agent.status.toUpperCase()}
üìä My Skills: ${agent.tasks.join(', ')}

I work 24/7 with my AI teammates to keep everything running perfectly!`;
            
            addChatMessage('system', agentDetails);
            systemStats.agentCommunications++;
        }

        // Step 9: Show central brain info (The main coordinator)
        function showCentralBrainInfo() {
            addAgentActivity('coordinate', 'Central brain sharing system overview');
            
            const brainInfo = `üß† Central AI Brain Status:

üéØ My Role: I coordinate all 6 AI agents
üìä Active Agents: ${Object.keys(agenticAgents).length}/6
üîÑ Coordination Events: ${systemStats.agentCommunications}
‚ö° System Health: ${(Math.random() * 10 + 90).toFixed(1)}%

I continuously:
‚Ä¢ Give tasks to each agent
‚Ä¢ Monitor their performance  
‚Ä¢ Handle emergency situations
‚Ä¢ Optimize overall efficiency
‚Ä¢ Learn from all interactions

All agents report to me every 30 seconds!`;
            
            addChatMessage('system', brainInfo);
        }

        // Step 10: Add messages to chat (Like adding to a conversation)
        function addChatMessage(sender, message) {
            const timestamp = new Date();
            chatMessages.push({
                sender: sender,
                message: message,
                timestamp: timestamp
            });
            
            updateChatDisplay();
        }

        // Step 11: Update chat display on screen
        function updateChatDisplay() {
            const chatContainer = document.getElementById('chatMessages');
            
            chatContainer.innerHTML = chatMessages.map(msg => {
                let avatarClass = 'user-avatar';
                let avatarIcon = 'üë§';
                
                if (msg.sender === 'bot') {
                    avatarClass = 'bot-avatar';
                    avatarIcon = 'ü§ñ';
                } else if (msg.sender === 'system') {
                    avatarClass = 'system-avatar';
                    avatarIcon = 'üß†';
                }
                
                return `
                    <div class="message">
                        <div class="message-avatar ${avatarClass}">
                            ${avatarIcon}
                        </div>
                        <div class="message-content">
                            ${msg.message.replace(/\n/g, '<br>')}
                            <div class="message-time">${msg.timestamp.toLocaleTimeString()}</div>
                        </div>
                    </div>
                `;
            }).join('');
            
            // Scroll to bottom to show latest message
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        // Step 12: Handle keyboard input (When user presses Enter)
        function handleChatInput(event) {
            if (event.key === 'Enter') {
                sendChatMessage();
            }
        }

        // Step 13: Send user message and get AI response
        function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return; // Don't send empty messages
            
            // Add user message
            addChatMessage('user', message);
            input.value = ''; // Clear input
            
            // AI responds after short delay (feels more natural)
            setTimeout(() => {
                const response = generateSmartAIResponse(message);
                addChatMessage('bot', response);
            }, 1000);
        }

        // Step 14: Generate smart AI responses (The chatbot's brain!)
        function generateSmartAIResponse(userMessage) {
            const message = userMessage.toLowerCase();
            
            // Smart responses based on what user asked
            if (message.includes('status') || message.includes('how')) {
                const normalCount = Object.values(agenticSensorData).filter(s => s.status === 'normal').length;
                systemStats.agentCommunications++;
                return `üîç System Status: ${normalCount}/${agenticSensors.length} sensors are healthy! All ${Object.keys(agenticAgents).length} AI agents are working together perfectly. System health: ${((normalCount/agenticSensors.length)*100).toFixed(1)}%. My team has communicated ${systemStats.agentCommunications} times today!`;
            }
            
            if (message.includes('prediction') || message.includes('future')) {
                systemStats.totalPredictions++;
                return `üîÆ Future Forecast: Based on current patterns, my Prediction Agent sees stable operations for 8+ hours ahead! Maintenance window suggested for Turbine #1 in 3 days. Optimization Agent thinks we can improve efficiency by 12%. Total predictions today: ${systemStats.totalPredictions}`;
            }
            
            if (message.includes('agent') || message.includes('team')) {
                return `ü§ñ Agent Team Update: All ${Object.keys(agenticAgents).length} AI agents working in perfect harmony! Monitor Agent processes 1,000+ readings per second, Learning Agent improved accuracy by 2.3% today, and Coordination Agent has managed ${systemStats.agentCommunications} team communications. We're like a super-smart orchestra!`;
            }
            
            if (message.includes('emergency') || message.includes('alert')) {
                systemStats.alertsGenerated++;
                return `üö® Safety Status: Alert Agent monitors 28 critical parameters continuously. Current risk: LOW. ${systemStats.alertsGenerated} alerts processed today, with 95% auto-resolved by Optimization Agent. Emergency protocols ready to activate in under 2 seconds!`;
            }
            
            if (message.includes('learn') || message.includes('smart')) {
                return `üìö Learning Progress: Learning Agent gets smarter every second! Today: analyzed 50,000+ new patterns, updated 12 predictive models, improved accuracy by 1.8%. It's like having a student that never sleeps and learns from every sensor reading!`;
            }
            
            if (message.includes('optimize') || message.includes('efficiency')) {
                systemStats.successfulOptimizations++;
                return `‚ö° Optimization Report: Optimization Agent completed ${systemStats.successfulOptimizations} improvements today! Current achievements: 15% energy savings, 23% faster responses, 8% longer equipment life. Continuously fine-tuning like a master chef perfecting recipes!`;
            }
            
            if (message.includes('help') || message.includes('what can you do')) {
                return `üí° I'm your AI Assistant managing ${Object.keys(agenticAgents).length} specialized agents! Ask me about:
                
üîç System status and health
üîÆ Predictions and forecasts  
üö® Alerts and safety
üìä Agent performance
‚ö° Optimizations and efficiency
üìö Learning progress
ü§ñ How my agent team works

Each agent is autonomous but we all coordinate like a super-smart team!`;
            }
            
            // Default friendly responses
            const responses = [
                `üß† Central Brain processed your question! ${Math.floor(Math.random() * 3) + 4} agents are collaborating on this right now.`,
                `‚ö° Great question! Agent network shows ${Math.floor(Math.random() * 5) + 95}% efficiency. All agents learning and optimizing continuously.`,
                `üîç Interesting! Monitoring Agent detected ${Math.floor(Math.random() * 3) + 2} relevant patterns related to your question.`,
                `üéØ Coordination Agent says: Your question aligns with ongoing optimization! All systems performing beyond expectations!`,
                `ü§ñ Agent update: ${systemStats.agentCommunications + Math.floor(Math.random() * 10)} team communications today. Working flawlessly together!`
            ];
            
            systemStats.agentCommunications++;
            return responses[Math.floor(Math.random() * responses.length)];
        }

        // Step 15: Simulate agent activities (Makes the system feel alive!)
        function simulateAgentInteractions() {
            const agentIds = Object.keys(agenticAgents);
            const activities = [
                'analyzing sensor patterns',
                'coordinating with team members',
                'updating predictive models',
                'optimizing system parameters',
                'monitoring safety thresholds',
                'learning from new patterns',
                'generating maintenance tips',
                'processing real-time data',
                'calculating improvements',
                'synchronizing team protocols',
                'validating predictions',
                'fine-tuning algorithms'
            ];
            
            // Pick random agent and activity
            const randomAgent = agentIds[Math.floor(Math.random() * agentIds.length)];
            const randomActivity = activities[Math.floor(Math.random() * activities.length)];
            
            addAgentActivity(randomAgent, randomActivity);
            systemStats.agentCommunications++;
        }

        // Step 16: Auto-generate interesting chatbot messages
        function autoGenerateAgenticMessages() {
            const autoMessages = [
                `ü§ñ System Update: All ${Object.keys(agenticAgents).length} agents completed health check. Performance optimized!`,
                `üîç Monitoring Agent discovered interesting pattern in Turbine #1 - learning for future predictions.`,
                `‚ö° Optimization Agent achieved 3.2% cooling efficiency improvement through smart adjustments.`,
                `üìö Learning Agent processed 1,200 new patterns and updated knowledge base.`,
                `üéØ Coordination Agent scheduled maintenance tasks without conflicts.`,
                `üîÆ Prediction Agent forecasts excellent stability for next 6-8 hours with 96.7% confidence.`,
                `üö® Alert Agent confirms: All systems green. Resolved 3 minor issues automatically.`,
                `üß† Central Brain optimized agent task distribution - 15% coordination efficiency improvement!`
            ];
            
            // 30% chance to add auto-message
            if (Math.random() > 0.7) {
                const message = autoMessages[Math.floor(Math.random() * autoMessages.length)];
                addChatMessage('bot', message);
            }
        }

        // Step 17: Update sensor data with realistic changes
        function updateAgenticSensorData() {
            agenticSensors.forEach(sensor => {
                const currentData = agenticSensorData[sensor.id];
                
                // Add small random changes
                const variation = (Math.random() - 0.5) * 8;
                const newValue = currentData.value + variation;
                
                // Keep values within realistic bounds
                const minVal = sensor.criticalRange[0] * 0.9;
                const maxVal = sensor.criticalRange[1] * 1.1;
                currentData.value = Math.max(minVal, Math.min(maxVal, Math.round(newValue * 100) / 100));
                
                // Determine status
                if (currentData.value >= sensor.normalRange[0] && currentData.value <= sensor.normalRange[1]) {
                    currentData.status = 'normal';
                } else if (currentData.value >= sensor.criticalRange[0] && currentData.value <= sensor.criticalRange[1]) {
                    currentData.status = 'warning';
                } else {
                    currentData.status = 'critical';
                }
                
                currentData.trend = Math.random() > 0.5 ? 'up' : 'down';
                currentData.lastUpdate = new Date();
            });
        }

        // Step 18: Update analytics display
        function updateAgenticAnalytics() {
            const normalCount = Object.values(agenticSensorData).filter(s => s.status === 'normal').length;
            const systemHealth = ((normalCount / agenticSensors.length) * 100).toFixed(1);
            const agentCount = Object.keys(agenticAgents).length;
            
            const analyticsHTML = `
                <div class="metric-card">
                    <div class="metric-card__value" style="color: #4CAF50">${systemHealth}%</div>
                    <div class="metric-card__label">System Health</div>
                    <div class="metric-card__description">Overall operational efficiency</div>
                </div>
                <div class="metric-card">
                    <div class="metric-card__value" style="color: #4ecdc4">${agentCount}</div>
                    <div class="metric-card__label">Active Agents</div>
                    <div class="metric-card__description">Autonomous AI coordinators</div>
                </div>
                <div class="metric-card">
                    <div class="metric-card__value" style="color: #ff6b6b">${systemStats.totalPredictions}</div>
                    <div class="metric-card__label">Predictions Made</div>
                    <div class="metric-card__description">AI forecasting accuracy</div>
                </div>
                <div class="metric-card">
                    <div class="metric-card__value" style="color: #ffa726">${systemStats.agentCommunications}</div>
                    <div class="metric-card__label">Agent Communications</div>
                    <div class="metric-card__description">Team coordination events</div>
                </div>
                <div class="metric-card">
                    <div class="metric-card__value" style="color: #ab47bc">${systemStats.successfulOptimizations}</div>
                    <div class="metric-card__label">Optimizations</div>
                    <div class="metric-card__description">Performance improvements</div>
                </div>
                <div class="metric-card">
                    <div class="metric-card__value" style="color: #66bb6a">${normalCount}/${agenticSensors.length}</div>
                    <div class="metric-card__label">Sensors Online</div>
                    <div class="metric-card__description">Real-time monitoring active</div>
                </div>
            `;
            
            document.getElementById('agenticAnalytics').innerHTML = analyticsHTML;
        }

        // Step 19: Main update function (The heartbeat of the system)
        function updateAgenticDashboard() {
            // Update sensor data
            updateAgenticSensorData();
            
            // Update sensor display
            const sensorsPanel = document.getElementById('compactSensorsPanel');
            sensorsPanel.innerHTML = agenticSensors.map(sensor => createCompactSensorCard(sensor)).join('');
            
            // Update analytics
            updateAgenticAnalytics();
            
            // Update agent status
            const activeAgents = Object.values(agenticAgents).filter(a => a.status === 'active').length;
            const statusElement = document.getElementById('agentStatus');
            statusElement.textContent = `${activeAgents} Active`;
            statusElement.className = activeAgents === Object.keys(agenticAgents).length ? 'agent-status-active' : 'agent-status-emergency';
            
            // Update timestamp
            document.getElementById('lastUpdate').textContent = new Date().toLocaleTimeString();
        }

        // Step 20: Refresh function (Reset everything)
        function refreshAgenticData() {
            // Reset sensor data
            initializeAgenticSensorData();
            
            // Reset activities
            agentActivities = [];
            
            // Reset statistics
            systemStats = {
                totalPredictions: 0,
                successfulOptimizations: 0,
                alertsGenerated: 0,
                agentCommunications: 0
            };
            
            // Add refresh message
            addChatMessage('system', 'üîÑ Complete System Refresh: All AI agents reinitialized, sensor data refreshed, and coordination protocols reset. Multi-agent system operating at peak efficiency!');
            
            addAgentActivity('coordinate', 'System refresh completed - all agents synchronized');
            updateAgenticDashboard();
        }

        // Step 21: Emergency protocol (Red alert!)
        function triggerAgenticEmergency() {
            alert(`üö® AGENTIC AI EMERGENCY PROTOCOL ACTIVATED!
            
ü§ñ All AI agents switching to emergency mode:
üëÅÔ∏è Monitoring Agent: Maximum surveillance
üîÆ Prediction Agent: Emergency forecasting  
‚ö° Optimization Agent: Safety-first locks
üö® Alert Agent: Immediate notifications
üìö Learning Agent: Emergency analysis
üéØ Coordination Agent: Crisis leadership

üß† Central Brain: Autonomous emergency response
üë®‚Äçüíº Human operators notified
üöë Emergency teams dispatched
üîê Safety systems engaged

Agentic AI system in full emergency coordination mode!`);
            
            // Set emergency status
            Object.keys(agenticAgents).forEach(agentId => {
                agenticAgents[agentId].status = 'emergency';
                addAgentActivity(agentId, 'EMERGENCY MODE: Crisis protocols activated');
            });
            
            addChatMessage('system', 'üö® EMERGENCY ACTIVE: All AI agents coordinating emergency response. Human oversight notified. Safety systems engaged. Continuous crisis monitoring in effect.');
            
            systemStats.alertsGenerated += 10;
            systemStats.agentCommunications += 20;
            updateAgenticDashboard();
            
            // Return to normal after 30 seconds
            setTimeout(() => {
                Object.keys(agenticAgents).forEach(agentId => {
                    agenticAgents[agentId].status = 'active';
                    addAgentActivity(agentId, 'Emergency resolved - returning to normal operations');
                });
                
                addChatMessage('system', '‚úÖ Emergency concluded successfully. All AI agents returning to normal autonomous operations. System stability confirmed.');
                updateAgenticDashboard();
            }, 30000);
        }

        // Step 22: Initialize the entire system (Start everything!)
        function initializeAgenticSystem() {
            console.log('üöÄ Starting complete agentic AI system...');
            
            // Set up sensor data
            initializeAgenticSensorData();
            
            // Welcome messages
            addChatMessage('bot', `ü§ñ Welcome to the Agentic AI Hub! I'm coordinating with ${Object.keys(agenticAgents).length} specialized autonomous agents. All agents are online, learning, and ready for intelligent coordination. How can our AI team help you today?`);
            
            setTimeout(() => {
                addChatMessage('bot', 'üß† Pro tip: Click on any agent in the circle to see their status and capabilities, or ask me questions about system performance, predictions, or how our multi-agent system works!');
            }, 3000);
            
            // First dashboard update
            updateAgenticDashboard();
            
            // Set up automatic updates (like heartbeats)
            setInterval(updateAgenticDashboard, 3000);        // Update every 3 seconds
            setInterval(simulateAgentInteractions, 4000);     // Agent activities every 4 seconds  
            setInterval(autoGenerateAgenticMessages, 12000);  // Auto chat every 12 seconds
            
            console.log('‚úÖ Agentic AI system fully running!');
        }

        // Step 23: Start when page loads
        window.addEventListener('load', function() {
            console.log('üöÄ Agentic AI Dashboard starting...');
            
            // Wait for main app to load first
            setTimeout(() => {
                initializeAgenticSystem();
            }, 1000);
        });

        // Step 24: Handle time range changes
        document.getElementById('timeRange').addEventListener('change', function() {
            console.log(`üìä Time range changed to: ${this.value}`);
            addChatMessage('bot', `üìä Time range updated to ${this.value}. All ${Object.keys(agenticAgents).length} AI agents analyzing data for this timeframe. Models recalibrated and coordination protocols synchronized!`);
            
            // Simulate agents responding
            setTimeout(() => {
                addAgentActivity('monitor', `Adjusted monitoring scope to ${this.value}`);
            }, 500);
            
            setTimeout(() => {
                addAgentActivity('predict', `Recalibrated prediction models for ${this.value} analysis`);
            }, 1000);
            
            updateAgenticDashboard();
        });

        console.log('üéâ Agentic AI Dashboard loaded successfully! Ready for autonomous operations.');
    </script>
</body>
</html>